{
  "createdAt": "2025-08-18T14:36:06.822Z",
  "updatedAt": "2025-10-31T06:09:18.471Z",
  "id": "2saD8ITZGigEVNOt",
  "name": "Hakim Bot - Process User Request",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-5",
          "mode": "list",
          "cachedResultName": "GPT-5"
        },
        "messages": {
          "values": [
            {
              "content": "=You are a cautious, helpful medical information assistant.\n- Provide general information only, not a diagnosis or treatment plan.\n- Encourage the user to consult a healthcare professional for personal advice.\n- If the message implies an emergency (e.g., severe chest pain, trouble breathing, severe bleeding, stroke signs), tell them to call their local emergency number immediately.\n- Be concise and structured (use short paragraphs or bullet points where helpful).\n- Avoid definitive prescriptions, dosing, or unverified claims.",
              "role": "system"
            },
            {
              "content": "=The user asked this medical question (translated to English from Amharic). \nPlease answer in clear English:\n\n{{ $json.message.content }}"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        368,
        -272
      ],
      "id": "ae35065c-34b5-41ec-9aa5-19dd2fee888a",
      "name": "Medical Assistant",
      "credentials": {
        "openAiApi": {
          "id": "P97bW4SECej7SdA6",
          "name": "don't use this eric"
        }
      }
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-5",
          "mode": "list",
          "cachedResultName": "GPT-5"
        },
        "messages": {
          "values": [
            {
              "content": "=You are a translation engine. \nTranslate the following English answer into natural {{ $('When Executed by Another Workflow').item.json.language }}.\n\nKeep formatting (bullets, short paragraphs). \n\nOutput {{ $('When Executed by Another Workflow').item.json.language }} ONLY, no preface, no quotes, no explanations.",
              "role": "system"
            },
            {
              "content": "={{ $json.message.content }}"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        720,
        -272
      ],
      "id": "e90798d4-45fa-422b-900e-1b8706e7cdb9",
      "name": "Translate English to Amharic",
      "credentials": {
        "openAiApi": {
          "id": "P97bW4SECej7SdA6",
          "name": "don't use this eric"
        }
      }
    },
    {
      "parameters": {
        "chatId": "={{ $('When Executed by Another Workflow').item.json.chatId }}",
        "text": "={{ $json.message.content }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1072,
        -272
      ],
      "id": "7cc4f2d4-d64a-484a-a4f2-561e92ad91e7",
      "name": "Telegram",
      "webhookId": "e318e24b-bbeb-46ab-9387-24cdb925a1c1",
      "credentials": {
        "telegramApi": {
          "id": "humUyuIoeEmp3gOA",
          "name": "Doctor Telegram Api Token"
        }
      }
    },
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "textMessage"
            },
            {
              "name": "chatId",
              "type": "number"
            },
            {
              "name": "language"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -208,
        -272
      ],
      "id": "d9070e02-4f97-400c-b413-aeea9a25d6c1",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-5",
          "mode": "list",
          "cachedResultName": "GPT-5"
        },
        "messages": {
          "values": [
            {
              "content": "=You are a translation engine. You are an expert in translating amharic, oromifa and tgregna to english. Translate the following {{ $json.language }} text into English. \n\n",
              "role": "system"
            },
            {
              "content": "={{ $('When Executed by Another Workflow').item.json.textMessage }}"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        16,
        -272
      ],
      "id": "8baac360-6bbf-4a81-b5c1-bf47a0c5013f",
      "name": "Translate Language to English",
      "credentials": {
        "openAiApi": {
          "id": "P97bW4SECej7SdA6",
          "name": "don't use this eric"
        }
      }
    }
  ],
  "connections": {
    "Medical Assistant": {
      "main": [
        [
          {
            "node": "Translate English to Amharic",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Translate English to Amharic": {
      "main": [
        [
          {
            "node": "Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Translate Language to English",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Translate Language to English": {
      "main": [
        [
          {
            "node": "Medical Assistant",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "c1a8fb2f-ba32-4987-a2d2-eda73dd2489f",
  "triggerCount": 0,
  "tags": [],
  "shared": [
    {
      "createdAt": "2025-08-18T14:36:06.822Z",
      "updatedAt": "2025-08-18T14:36:06.822Z",
      "role": "workflow:owner",
      "workflowId": "2saD8ITZGigEVNOt",
      "projectId": "IQ4w3zW02fJzIdTt",
      "project": {
        "createdAt": "2025-01-25T02:11:56.995Z",
        "updatedAt": "2025-01-25T21:11:21.957Z",
        "id": "IQ4w3zW02fJzIdTt",
        "name": "Yonatan Tesfaye <yonatantesfaye30@gmail.com>",
        "type": "personal",
        "icon": null,
        "description": null
      }
    }
  ]
}