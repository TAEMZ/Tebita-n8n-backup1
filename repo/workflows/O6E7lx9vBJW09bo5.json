{
  "createdAt": "2025-03-03T07:09:57.194Z",
  "updatedAt": "2025-03-03T08:52:50.355Z",
  "id": "O6E7lx9vBJW09bo5",
  "name": "instantly",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "2d40dcd5-4d4b-41b8-9ce2-400381c69922",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -240,
        80
      ],
      "id": "0efb909a-32a5-4d74-9790-bcb0d1e8eac3",
      "name": "Webhook",
      "webhookId": "2d40dcd5-4d4b-41b8-9ce2-400381c69922"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": ""
        }
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        -160,
        -660
      ],
      "id": "8fd86619-9234-45c8-81ab-bdc58e751ea5",
      "name": "Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "nfHmqMbCyCB4mmXL",
          "name": "Google Sheets account 4"
        }
      },
      "disabled": true
    },
    {
      "parameters": {
        "fieldToSplitOut": "body",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        -340,
        -660
      ],
      "id": "eeb4495a-4ada-4491-b043-6cb84812d812",
      "name": "Split Out",
      "disabled": true
    },
    {
      "parameters": {
        "agent": "openAiFunctionsAgent",
        "promptType": "define",
        "text": "={{ $json.body }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "You are expert at parsing text and extracting url, extract all the url that found on the given text."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        1240,
        -320
      ],
      "id": "8da46b2c-14fe-4e50-95ec-de64ac8945ce",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": "gpt-4o",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.1,
      "position": [
        1180,
        -120
      ],
      "id": "1879d264-b763-41e0-85f0-08377249dbbf",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "TUNbbZhFy4QjUJm0",
          "name": "New Open ai "
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "=896",
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        1360,
        -120
      ],
      "id": "83696707-4555-4c62-9440-f40a067d1d08",
      "name": "Window Buffer Memory"
    },
    {
      "parameters": {
        "name": "my_tool",
        "description": "call this tool to parse the url and extract their domain and return url",
        "jsCode": "function extractUrls(text) {\n    const urlRegex = /https?:\\/\\/[^\\s]+/g;\n    const urls = text.match(urlRegex);\n\n    if (!urls) return { links: [] };\n\n    return {\n        links: urls.map(url => {\n            const domain = new URL(url).hostname;\n            return { url, domain };\n        })\n    };\n}",
        "specifyInputSchema": true,
        "jsonSchemaExample": "{\n  \"links\": [\n    {\n      \"url\": \"https://youtu.be/lpbM0Dn9CTA\",\n      \"domain\": \"youtube.com\"\n    },\n    {\n      \"url\": \"https://www.linkedin.com/posts/meteoros-automation_out-of-frustration-i-embarked-on-a-hobby-activity-7289549432298127360-7Z7a?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFd-P6gBd8AH1cgemu3YJLqOJqF4ckHaxu0\",\n      \"domain\": \"linkedin.com\"\n    },\n    {\n      \"url\": \"https://www.github.com\",\n      \"domain\": \"github.com\"\n    },\n    {\n      \"url\": \"https://www.n8n.io\",\n      \"domain\": \"n8n.io\"\n    },\n    {\n      \"url\": \"https://flutter.dev\",\n      \"domain\": \"flutter.dev\"\n    },\n    {\n      \"url\": \"https://make.com\",\n      \"domain\": \"make.com\"\n    }\n  ]\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "typeVersion": 1.1,
      "position": [
        1480,
        -120
      ],
      "id": "a294eb0f-d207-4bc3-9ed3-a705bdfa2f98",
      "name": "Code Tool"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"links\": [\n    {\n      \"url\": \"https://youtu.be/lpbM0Dn9CTA\",\n      \"domain\": \"youtube.com\"\n    },\n    {\n      \"url\": \"https://www.linkedin.com/posts/meteoros-automation_out-of-frustration-i-embarked-on-a-hobby-activity-7289549432298127360-7Z7a?utm_source=share&utm_medium=member_desktop&rcm=ACoAAFd-P6gBd8AH1cgemu3YJLqOJqF4ckHaxu0\",\n      \"domain\": \"linkedin.com\"\n    },\n    {\n      \"url\": \"https://www.github.com\",\n      \"domain\": \"github.com\"\n    },\n    {\n      \"url\": \"https://www.n8n.io\",\n      \"domain\": \"n8n.io\"\n    },\n    {\n      \"url\": \"https://flutter.dev\",\n      \"domain\": \"flutter.dev\"\n    },\n    {\n      \"url\": \"https://make.com\",\n      \"domain\": \"make.com\"\n    }\n  ]\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        1640,
        -140
      ],
      "id": "3120bbf0-c18f-447c-97ec-44f69c932965",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.domain }}",
                    "rightValue": "linkedin.com",
                    "operator": {
                      "type": "string",
                      "operation": "contains"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Linkedin"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "9df03305-4bf3-4043-a312-cd890b966ee8",
                    "leftValue": "={{ $json.domain }}",
                    "rightValue": "youtube.com",
                    "operator": {
                      "type": "string",
                      "operation": "notContains"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Website"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        2020,
        -320
      ],
      "id": "060bcad7-6a98-4dc3-8243-b99449132173",
      "name": "Switch"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.body }}",
                    "rightValue": "",
                    "operator": {
                      "type": "object",
                      "operation": "notEmpty",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Video Url"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        960,
        -320
      ],
      "id": "32687d99-1d46-4841-9837-102469cfd48f",
      "name": "Switch1"
    },
    {
      "parameters": {
        "fieldToSplitOut": "output.links",
        "include": "=noOtherFields",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        1760,
        -320
      ],
      "id": "f882da15-a6ff-428e-b12c-770f9e5cefa8",
      "name": "Split Out1"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "GIGrweYF0zgfjyoT",
          "mode": "list",
          "cachedResultName": "Linkedin Personal Profile Scrapper"
        },
        "mode": "each",
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.1,
      "position": [
        2360,
        -340
      ],
      "id": "5557dbf0-aa84-4af5-8b33-e69b2b3d9e7d",
      "name": "Execute Linkedin Profile Scrapper"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "6Vu0qSRJ6UXmVhgJ",
          "mode": "list",
          "cachedResultName": "Single Webpage Scrapper"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.1,
      "position": [
        2240,
        -220
      ],
      "id": "794000d1-bbff-40c2-a867-2fd4aba3c856",
      "name": "Execute Single Webpage Scrapper"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.instantly.ai/api/v1/authenticate?api_key=MWVhMTllYjYtZjFhOC00YjNkLWFhZDEtZGI2M2IzMTFlNDA5OmJMcVZ6Y0NHc2tiTA==",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n    \"profileUrls\": [\n        \"{{ $json.enginering }}\"\n    ]\n} ",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        420,
        -320
      ],
      "id": "454d4b69-7275-49c0-b60f-dfbfa010ef33",
      "name": "HTTP Request"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -240,
        -340
      ],
      "id": "89b14c20-647b-4a9f-8a0f-72510153764e",
      "name": "When clicking ‘Test workflow’"
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        []
      ]
    },
    "Google Sheets": {
      "main": [
        []
      ]
    },
    "Split Out": {
      "main": [
        []
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Split Out1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Code Tool": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Execute Linkedin Profile Scrapper",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Execute Single Webpage Scrapper",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch1": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out1": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Switch1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‘Test workflow’": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {
    "Webhook": [
      {
        "json": {
          "headers": {
            "host": "n8n.tebita.com",
            "x-real-ip": "3.239.192.87",
            "x-forwarded-for": "3.239.192.87",
            "x-forwarded-proto": "https",
            "connection": "upgrade",
            "content-length": "889",
            "accept": "application/json, text/plain, */*",
            "content-type": "application/json",
            "user-agent": "axios/0.21.4"
          },
          "params": {},
          "query": {},
          "body": {
            "timestamp": "2025-03-03T08:17:15.654Z",
            "event_type": "lead_interested",
            "workspace": "1ea19eb6-f1a8-4b3d-aad1-db63b311e409",
            "campaign_id": "059e5a74-55e6-497d-b54a-ebce209b8b9b",
            "unibox_url": null,
            "campaign_name": "new",
            "lead_email": "colleen@signsusainc.com",
            "email": "colleen@signsusainc.com",
            "title": "Part Time Architectural Sign Estimator",
            "twitter": "",
            "website": "http://signsusainc.com",
            "industry": "Media and Entertainment",
            "keywords": "sign packages, ada signs, design, signs usa, architectural signage experts, signage experts, signs, architectural signage, signage, full-service sign company, sign company specializing, signs usa team, full-service sign, sign company",
            "lastName": "Fipps",
            "linkedIn": "linkedin.com/in/colleen-fipps-38a1129",
            "location": "United States",
            "employees": "25 - 100",
            "firstName": "Colleen",
            "companyName": "Signs USA",
            "companyNews": "",
            "phoneNumbers": [
              "+1 614-276-7007"
            ]
          },
          "webhookUrl": "https://n8n.tebita.com/webhook-test/2d40dcd5-4d4b-41b8-9ce2-400381c69922",
          "executionMode": "test"
        }
      }
    ],
    "When clicking ‘Test workflow’": [
      {
        "json": {
          "enginering": "usa enginer"
        }
      }
    ]
  },
  "versionId": "6bfa6f07-d84d-442f-becc-001e12c64f10",
  "triggerCount": 0,
  "tags": [],
  "shared": [
    {
      "createdAt": "2025-03-03T07:09:57.194Z",
      "updatedAt": "2025-03-03T07:09:57.194Z",
      "role": "workflow:owner",
      "workflowId": "O6E7lx9vBJW09bo5",
      "projectId": "hv3RoiUVwxA7lyyB",
      "project": {
        "createdAt": "2025-02-05T08:00:32.485Z",
        "updatedAt": "2025-02-05T08:01:09.976Z",
        "id": "hv3RoiUVwxA7lyyB",
        "name": "Beamlak Adane <bnobodygetmoney@gmail.com>",
        "type": "personal",
        "icon": null,
        "description": null
      }
    }
  ]
}