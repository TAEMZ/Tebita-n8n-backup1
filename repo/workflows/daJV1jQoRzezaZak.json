{
  "createdAt": "2025-04-25T08:45:55.757Z",
  "updatedAt": "2025-04-25T08:46:25.125Z",
  "id": "daJV1jQoRzezaZak",
  "name": "Nico Brand AnalyzerCopy",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        1760,
        340
      ],
      "id": "0d8ad985-d534-4b2f-ad32-e7a2dc4f6d3e",
      "name": "Merge2"
    },
    {
      "parameters": {
        "operation": "update",
        "base": {
          "__rl": true,
          "value": "appUpWhaWy6VmUXM4",
          "mode": "list",
          "cachedResultName": "Facebook Ads Research",
          "cachedResultUrl": "https://airtable.com/appUpWhaWy6VmUXM4"
        },
        "table": {
          "__rl": true,
          "value": "tblNVmsHbGd8efYG8",
          "mode": "list",
          "cachedResultName": "comment",
          "cachedResultUrl": "https://airtable.com/appUpWhaWy6VmUXM4/tblNVmsHbGd8efYG8"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "comment_id": "={{ $('If1').item.json.fields.comment_id }}",
            "theme": "={{ $json.message.content.comment_theme }}"
          },
          "matchingColumns": [
            "comment_id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "comment_id",
              "displayName": "comment_id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "message",
              "displayName": "message",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "created_time",
              "displayName": "created_time",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "dateTime",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "ad_id",
              "displayName": "ad_id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "ad_name (from ad_id)",
              "displayName": "ad_name (from ad_id)",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "Licensed-Disney_New Marvel GO CUP_CORK",
                  "value": "Licensed-Disney_New Marvel GO CUP_CORK"
                },
                {
                  "name": "Evergreen_VID_Brand_ShowCase-Trending_SHOPNOW_RollerSkateDateCruiserPDP - Copy 3",
                  "value": "Evergreen_VID_Brand_ShowCase-Trending_SHOPNOW_RollerSkateDateCruiserPDP - Copy 3"
                },
                {
                  "name": "Sniffing_TopAdRemake_HunterGreen-V1-Video-FeederMat-StandardLP",
                  "value": "Sniffing_TopAdRemake_HunterGreen-V1-Video-FeederMat-StandardLP"
                },
                {
                  "name": "ppid_SniffingImportance-Video-CalmingKitLP1 - Copy",
                  "value": "ppid_SniffingImportance-Video-CalmingKitLP1 - Copy"
                },
                {
                  "name": "SniffingImportant-refresh-v2-video-FeederMat-StandardLP",
                  "value": "SniffingImportant-refresh-v2-video-FeederMat-StandardLP"
                },
                {
                  "name": "Evergreen_VID_INFL_morganpaigewalker_Showcase_SHOPNOW_GlossWhiteGoCupXLPDP",
                  "value": "Evergreen_VID_INFL_morganpaigewalker_Showcase_SHOPNOW_GlossWhiteGoCupXLPDP"
                },
                {
                  "name": "Evergreen_VID_INFL_conniec_Coffee_SHOPNOW_OatMilkPOSPDP_1.3.25",
                  "value": "Evergreen_VID_INFL_conniec_Coffee_SHOPNOW_OatMilkPOSPDP_1.3.25"
                },
                {
                  "name": "UVP-v1-HunterGreen-image-FeederMat-StandardLP",
                  "value": "UVP-v1-HunterGreen-image-FeederMat-StandardLP"
                },
                {
                  "name": "BF-2v2-Video-Collection",
                  "value": "BF-2v2-Video-Collection"
                },
                {
                  "name": "BF-2v1-Video-Collection",
                  "value": "BF-2v1-Video-Collection"
                },
                {
                  "name": "bad-owner/shocking-truth-Video-V2-BBB-LP",
                  "value": "bad-owner/shocking-truth-Video-V2-BBB-LP"
                },
                {
                  "name": "Negative Review-Video_V1-BBB-LP",
                  "value": "Negative Review-Video_V1-BBB-LP"
                },
                {
                  "name": "Negative Review-Video_V1-StandardLP",
                  "value": "Negative Review-Video_V1-StandardLP"
                },
                {
                  "name": "review-Image-V2-StandardLP",
                  "value": "review-Image-V2-StandardLP"
                },
                {
                  "name": "Best-Thing-Video-V2-StandardLP",
                  "value": "Best-Thing-Video-V2-StandardLP"
                },
                {
                  "name": "ppid_ForagingMay-Video-CalmingKitLP1",
                  "value": "ppid_ForagingMay-Video-CalmingKitLP1"
                },
                {
                  "name": "DeepDive2.0_D5.1-Images-CalmingKitLP1",
                  "value": "DeepDive2.0_D5.1-Images-CalmingKitLP1"
                },
                {
                  "name": "Review_Ksenia-Images-CalmingKitLP1",
                  "value": "Review_Ksenia-Images-CalmingKitLP1"
                },
                {
                  "name": "ppid_ForagingMayV2-Video-CalmingKitLP1",
                  "value": "ppid_ForagingMayV2-Video-CalmingKitLP1"
                },
                {
                  "name": "Maysourcing_V4-video-Standard-LP",
                  "value": "Maysourcing_V4-video-Standard-LP"
                },
                {
                  "name": "CarouselAds-C",
                  "value": "CarouselAds-C"
                },
                {
                  "name": "CarouselAds-C - Copy",
                  "value": "CarouselAds-C - Copy"
                },
                {
                  "name": "CAROUSEL-AD-3744-V1-TESTIMONIAL-102024",
                  "value": "CAROUSEL-AD-3744-V1-TESTIMONIAL-102024"
                },
                {
                  "name": "CAROUSEL-AD-3914-V1",
                  "value": "CAROUSEL-AD-3914-V1"
                },
                {
                  "name": "CAROUSEL-STATIC-AD-3804-V3",
                  "value": "CAROUSEL-STATIC-AD-3804-V3"
                },
                {
                  "name": "CarouselAd-2_Meta_010924",
                  "value": "CarouselAd-2_Meta_010924"
                },
                {
                  "name": "StaticAds-Carousel-ProductA-ME20-1x1-042024",
                  "value": "StaticAds-Carousel-ProductA-ME20-1x1-042024"
                },
                {
                  "name": "Carousel-Product-2024111",
                  "value": "Carousel-Product-2024111"
                },
                {
                  "name": "CAROUSEL-STATIC-AD-3804-V1",
                  "value": "CAROUSEL-STATIC-AD-3804-V1"
                },
                {
                  "name": "STATIC-CAROUSEL-AD-3530-V5-A1-Rocket",
                  "value": "STATIC-CAROUSEL-AD-3530-V5-A1-Rocket"
                },
                {
                  "name": "Negative Review-Video_V4-Hook1-StandardLP",
                  "value": "Negative Review-Video_V4-Hook1-StandardLP"
                },
                {
                  "name": "Negative Review-Video_V1-StandardLP - Copy",
                  "value": "Negative Review-Video_V1-StandardLP - Copy"
                },
                {
                  "name": "SGSocial-WOMEN-BATCH12-AD-3985-V7",
                  "value": "SGSocial-WOMEN-BATCH12-AD-3985-V7"
                }
              ],
              "readOnly": false,
              "removed": true
            },
            {
              "id": "image (from ad_id)",
              "displayName": "image (from ad_id)",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "video (from ad_id)",
              "displayName": "video (from ad_id)",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "brand (from ad_id)",
              "displayName": "brand (from ad_id)",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "CORKCICLE",
                  "value": "CORKCICLE"
                },
                {
                  "name": "Reggie",
                  "value": "Reggie"
                },
                {
                  "name": "BlueChew",
                  "value": "BlueChew"
                }
              ],
              "readOnly": false,
              "removed": true
            },
            {
              "id": "theme",
              "displayName": "theme",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Ad per Ad Account",
              "displayName": "Ad per Ad Account",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        1880,
        1460
      ],
      "id": "479cb311-3aa1-4e1d-8c95-3b30bec19c21",
      "name": "Airtable2"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        1340,
        860
      ],
      "id": "105dba27-94a3-4dd1-bab4-3cb340c55b9e",
      "name": "Wait",
      "webhookId": "873074b2-6cc3-4dcb-a201-451de8f0145c"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "109023bb-c6d7-4bf8-ae4f-9d0c8b4b83ea",
              "name": "ad_id",
              "value": "={{ $json.output.ad_id }}",
              "type": "string"
            },
            {
              "id": "3c0b3584-0042-4460-9f48-0e93620e9c4e",
              "name": "angle",
              "value": "={{ $json.output.angle }}",
              "type": "string"
            },
            {
              "id": "c2604707-d2e2-409e-af0f-59b4d86d2205",
              "name": "angle_type",
              "value": "={{ $json.output.angle_type }}",
              "type": "string"
            },
            {
              "id": "33612f2f-b145-428b-9d94-7fcd138e0baf",
              "name": "explanation",
              "value": "={{ $json.output.explanation }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        3200,
        340
      ],
      "id": "20852e76-6586-4dcb-bc55-686750c8a568",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "content": "\n\n\n\n\n\n\n\n\n\n\n\n## Video Transcription\n",
        "height": 360,
        "width": 1640,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        580,
        860
      ],
      "id": "8de5ba94-817b-43ef-bbae-016b376166a3",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "operation": "search",
        "base": {
          "__rl": true,
          "value": "appUpWhaWy6VmUXM4",
          "mode": "list",
          "cachedResultName": "Facebook Ads Research",
          "cachedResultUrl": "https://airtable.com/appUpWhaWy6VmUXM4"
        },
        "table": {
          "__rl": true,
          "value": "tblczKMpbihpX5TVu",
          "mode": "list",
          "cachedResultName": "prompts",
          "cachedResultUrl": "https://airtable.com/appUpWhaWy6VmUXM4/tblczKMpbihpX5TVu"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtableTool",
      "typeVersion": 2.1,
      "position": [
        2780,
        660
      ],
      "id": "0d2fce17-6f70-4bd5-ad25-91006af15a35",
      "name": "Airtable4"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Inputs:\n     - Ad Id: {{ $json.fields.ad_id }}\n\t‚Ä¢Image Analysis Result: {{ $json.content }}\n\t‚Ä¢Ad Text:{{ $json.fields.ad_text }}\n\t‚Ä¢\tAd Video Transcript (if available):{{ $json.text }}\nInstructions:\n\t1.\tFetch Airtable Data: Retrieve the relevant classification prompt and guidelines from Airtable.\n\t2.\tAnalyze the Ad: Use the provided image analysis, ad text, and video transcript (if available) to determine the dominant angle.\n\t3.\tClassify the Ad: Based on the Airtable classification data, assign the correct angle type (e.g., Benefit-Based, Feature-Based).\n\t4.\tProvide Justification: Explain the reasoning behind the classification, integrating insights from all provided inputs.\n\t5.\tEnsure Accuracy: Do not hallucinate or generate unsupported conclusions.\n6. ** You have to return only JSON format **\nOutput Format json only inside {}, don't give an output like ``json{ }, instead follow the output format mentioned below strictly:\n{\n  \"angle\": \"Identified dominant angle of the ad\",\n  \"angle_type\": \"Classification type based on Airtable data. exact name of the angle from airtable\",\n  \"explanation\": \"Detailed justification integrating image analysis, text, video (if available), and Airtable classification data.\"\n}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "### Advertisement Angle Analysis  \nAnalyze the advertisement by integrating insights from its **image, text, and video transcript (if available)** to determine its **dominant angle** and **angle type**. The angle should be **descriptive, specific, and insightful**, ensuring it clearly conveys the ad‚Äôs focus.  \nAll ads have at least ad_text, image analysis result(ad_analysis), or video transcribed text. so there won't be any mismatch in number of input and output.\n---\n\n### Process  \n\n1. **Retrieve classification guidelines from Airtable** to determine the correct angle type.  \n2. **Analyze all ad elements** (image, text, video) to identify the most prominent angle.  \n3. **Provide a detailed and decision-driven explanation** based on the retrieved Airtable(I have given you as a tool) classification and ad content.  \n\n---\n\n### Output Format  \njson\n{\n  \"ad_id\":\"ad id from the input\",\n  \"angle\": \"A well-defined, descriptive, and insightful explanation of the ad‚Äôs dominant angle. Avoid short or vague descriptions‚Äîensure it provides clear decision-making insights.\",\n  \"angle_type\": \"Exact classification type from Airtable data.\",\n  \"explanation\": \"Comprehensive reasoning incorporating insights from the image, text, video, and Airtable classification guidelines.\"\n}\n\nOutput Format json only inside {}, don't give an output text like  \"``json{\"output\":\"...\" }\", instead follow the output format mentioned strictly"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        2660,
        340
      ],
      "id": "510e6350-764e-44c5-bf3f-c73401902ef3",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        2640,
        680
      ],
      "id": "b8e484f4-c65d-4e21-8241-dbd1fe4a1d02",
      "name": "OpenAI Chat Model"
    },
    {
      "parameters": {
        "content": "## Image Analysis",
        "height": 500,
        "width": 1640,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -40,
        180
      ],
      "id": "43ddf2a5-315c-40a6-a420-ceea157c2b06",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"ad_id\":\"the ad id you have analyzed get it from input\",\n  \"angle\": \"Identified dominant angle of the ad\",\n  \"angle_type\": \"Classification type based on Airtable data and only mention the name here\",\n  \"explanation\": \"Detailed reasoning incorporating insights from image, text, video classification guidelines.\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        2920,
        740
      ],
      "id": "9279aac1-1c68-4824-b749-05286d813ec1",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "batchSize": 50,
        "options": {}
      },
      "id": "fd73d576-d3ba-4d08-91fe-563da9a9748c",
      "name": "Split In Batches1",
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 1,
      "position": [
        2440,
        340
      ]
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "GPT-4O"
        },
        "messages": {
          "values": [
            {
              "content": "=### Precise Comment Theme Extraction for Decision-Making  \n\nAnalyze the following customer comment:  \n**\"{{ $json.fields.message }}\"**  \n\nExtract a **clear and specific theme** that directly reflects the intent of the comment, ensuring it provides actionable insights for advertising decisions.  \n\n---\n\n### Guidelines for Theme Extraction  \n\n- The theme must be **detailed yet concise**‚Äî**one sentence or two at most**‚Äîto capture the essence of the comment.  \n- Avoid **generalized labels** like \"Positive Feedback\" or \"Negative Feedback.\" Instead, **state the exact concern, praise, or request** in a way that helps optimize ads.  \n- Ensure **consistent labeling** so that similar comments receive the same theme.  \n\n---\n\n### Handling Edge Cases  \n\n- If the comment **only mentions another user** (e.g., `\"@username\"` or `\"John Doe\"`), return `\"\"`.  \n- If the comment is a **question**, classify it based on its **core intent** (e.g., `\"Asking About Product Durability\"`, `\"Inquiry About Shipping Time\"`).  \n- If the comment expresses **multiple ideas**, prioritize the **most decision-relevant theme** based on its impact on ads.  \n\n---\n\n### Expected JSON Output  \n```json\n{\n  \"comment_theme\": \"...\"\n}",
              "role": "system"
            }
          ]
        },
        "jsonOutput": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        1220,
        1460
      ],
      "id": "52e33f9b-812c-45a1-afd4-83db575f3342",
      "name": "Theme Analyzer"
    },
    {
      "parameters": {
        "url": "={{ $json.fields.image[0].url }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        960,
        200
      ],
      "id": "64d4ff7c-cd1d-4694-ad30-8784ee62e551",
      "name": "HTTP Request1"
    },
    {
      "parameters": {
        "resource": "image",
        "operation": "analyze",
        "modelId": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "GPT-4O"
        },
        "text": "Input:\n- Image: {Image Content}\n\nTask:\n1. Analyze the given image to determine the dominant message it conveys. Focus on visual elements such as product features, context, and any relevant cues in the image that communicate the angle of the ad.\n\n2. Provide a cohesive explanation for the **angle** the image conveys.\n\nOutput Format Don't add ```json``` just{response} :\n{\n  \"ad_analysis\": \"The overall communicated message by the image.\"\n}",
        "inputType": "base64",
        "binaryPropertyName": "=data",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        1240,
        200
      ],
      "id": "ee6a74f5-7e9d-46a8-9a35-89affbd66919",
      "name": "OpenAI1"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        1480,
        260
      ],
      "id": "05fe0e19-c347-4229-ae66-1b1254687473",
      "name": "Merge1"
    },
    {
      "parameters": {
        "resource": "audio",
        "operation": "transcribe",
        "binaryPropertyName": "=data",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        1760,
        940
      ],
      "id": "201709ca-51a0-4ab1-be2c-52b3e488f8d6",
      "name": "OpenAI2"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://143.198.47.9:8000/extract-audio/",
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "parameterType": "formBinaryData",
              "name": "video_file",
              "inputDataFieldName": "data"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1580,
        940
      ],
      "id": "849c6a92-6f6c-45d8-91cb-084e8352d832",
      "name": "HTTP Request",
      "retryOnFail": true
    },
    {
      "parameters": {
        "url": "=",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        420,
        740
      ],
      "id": "76c31fb6-66bc-47d6-aa2f-9fd1609cba01",
      "name": "HTTP Request2"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        1260,
        380
      ],
      "id": "a1113b5d-e45d-4b8e-99f0-70cc96994300",
      "name": "Merge",
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        1040,
        920
      ],
      "id": "6905b669-cbdf-4f7c-82b2-d319735c9d9c",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "091612b1-fe1c-4722-b3f4-cc793352984b",
              "leftValue": "={{ $json[\"Angle Type\"] }}",
              "rightValue": "true",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            },
            {
              "id": "85e8d4c5-23da-46a0-b77d-dec0856a72d6",
              "leftValue": "={{ $json.Explanation }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        380,
        300
      ],
      "id": "69d46c7b-4a62-4e73-897c-c0dad1ee6f6f",
      "name": "If"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "6849cdd4-5418-4edc-8339-c437406b3268",
              "leftValue": "={{ $json.sentiment }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            },
            {
              "id": "d578607b-ff7f-43f5-a38a-e451483d8444",
              "leftValue": "={{ $json.theme }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        700,
        1440
      ],
      "id": "b4c592c6-e988-4c19-a03f-27ad14c0bc8c",
      "name": "If1"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -1640,
        1020
      ],
      "id": "9771a921-06fc-46bc-b458-5d657b1857b6",
      "name": "When clicking ‚ÄòTest workflow‚Äô",
      "disabled": true
    },
    {
      "parameters": {
        "path": "d1b479f9-fac1-47cf-bdbc-c9a847781e64",
        "options": {
          "allowedOrigins": "*"
        }
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -1160,
        1360
      ],
      "id": "48c16210-4988-45e3-bc54-36af42be34b0",
      "name": "Webhook",
      "webhookId": "d1b479f9-fac1-47cf-bdbc-c9a847781e64",
      "disabled": true
    },
    {
      "parameters": {
        "inputSource": "passthrough"
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -1540,
        500
      ],
      "id": "50a750f0-0c5f-4d97-b775-5c9e2d802889",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "maxItems": 100
      },
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        -160,
        100
      ],
      "id": "7adc973e-4297-4eb3-9191-eed43d567458",
      "name": "Limit"
    },
    {
      "parameters": {
        "maxItems": 100
      },
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        -500,
        1420
      ],
      "id": "6744e471-699b-4403-ac2a-3b83c9cbd365",
      "name": "Limit1"
    },
    {
      "parameters": {
        "batchSize": 100,
        "options": {}
      },
      "id": "4ac8d1d4-6522-48dc-b27a-2aa598a73594",
      "name": "Split In Batches",
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 1,
      "position": [
        140,
        300
      ]
    },
    {
      "parameters": {
        "operation": "search",
        "base": {
          "__rl": true,
          "value": "appUpWhaWy6VmUXM4",
          "mode": "list",
          "cachedResultName": "Facebook Ads Research",
          "cachedResultUrl": "https://airtable.com/appUpWhaWy6VmUXM4"
        },
        "table": {
          "__rl": true,
          "value": "tblZ9o7RtLi7OHguY",
          "mode": "list",
          "cachedResultName": "Ad per Ad Account",
          "cachedResultUrl": "https://airtable.com/appUpWhaWy6VmUXM4/tblZ9o7RtLi7OHguY"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        -900,
        1400
      ],
      "id": "bb84cf1f-ca11-4ecc-bf9c-265c6083a1c1",
      "name": "Airtable5"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "c60f8307-c4df-49e1-afe7-4887f5c40c96",
              "leftValue": "={{ $json.message.content.comment_theme }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        1580,
        1460
      ],
      "id": "99a6254a-8acc-4405-a515-d3a6dc2cfc8f",
      "name": "Filter"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "4e924399-abff-4ca0-ad40-cfa4f02b5cfe",
              "leftValue": "={{ $json.fields.comment_id }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            },
            {
              "id": "c2d7ea98-fbbe-4c5b-9458-e0b56aeaddbb",
              "leftValue": "={{ $json.fields.comment_id }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -900,
        520
      ],
      "id": "9db4580e-9446-41c5-be58-63bc4ff84cf1",
      "name": "If4"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        1920,
        940
      ],
      "id": "7a98f8aa-8b61-4baa-9d4c-b6672fdb9aad",
      "name": "Wait1",
      "webhookId": "873074b2-6cc3-4dcb-a201-451de8f0145c"
    },
    {
      "parameters": {
        "content": "## Comment Analysis",
        "height": 260,
        "width": 1600
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        520,
        1380
      ],
      "id": "6dd19a2a-2bf5-42c7-933b-8151d339304e",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "url": "={{ $json.fields.video[0].url }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        760,
        940
      ],
      "id": "e22fcdc1-3b4a-4bdb-a728-92d32b28ca08",
      "name": "HTTP Request3",
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"id\": \"receBmKCZ0cr5fz33\",\n  \"createdTime\": \"2025-04-07T21:25:17.000Z\",\n  \"fields\": {\n    \"ad_id\": 120215960036460060,\n    \"ad_name\": \"1950style-v2-video-FeederMat-StandardLP\",\n    \"account_id\": 1738820723304183,\n    \"creative_id\": 1158429402447033,\n    \"ad_text\": \"Studies show that stress and anxiety can impact your dog's long-term health! \\n\\nCalming Kits from Reggie are a natural, holistic, and vet-backed solution to alleviate stress and anxiety. \\n‚úÖ Vet-approved \\nüê∂ Dog-approved\\nüòç Clean formulas\\nüî¨ Scientifically-backed\",\n    \"ad_title\": \"\\\"This Calming Kit Is Such a Game Changer For My Dog!\\\"\",\n    \"image\": [\n      {\n        \"id\": \"attD0JbZxTAOLRATq\",\n        \"url\": \"https://scontent.xx.fbcdn.net/v/t15.13418-10/483201748_603597192657588_1164468022970237254_n.jpg?stp=dst-jpg_tt6&_nc_cat=105&ccb=1-7&_nc_sid=ace027&_nc_ohc=7M22Hc0cRGMQ7kNvwF8NA0p&_nc_oc=AdkazTmXWKXKpYvrOiXpfTvA87FqMrjCeodi0OWEM4jS0n9a2jeTPjOui6wjXrzvMIE&_nc_zt=23&_nc_ht=scontent.xx&edm=AJfPMC4EAAAA&_nc_gid=A-HIdpbC10ZDMcBIUssnZQ&oh=00_AfGDXg9iM20xKhN222CFJ5ppvfVMUT2QXbwTDfuNJhfkqA&oe=680D7CCE\",\n        \"filename\": \"\"\n      }\n    ],\n    \"video\": [\n      {\n        \"id\": \"attmMvN0yFqDrKtgt\",\n        \"url\": \"https://video.xx.fbcdn.net/o1/v/t2/f2/m69/AQOnB9UP03atSddPWSFiWnfpXkXGr_QqE-KRVfgABN7v0jwJTeL44eCkhICLFUKO_K9h3bLyfplHQ_cV2IX6L7IV.mp4?strext=1&_nc_cat=111&_nc_sid=5e9851&_nc_ht=video.xx.fbcdn.net&_nc_ohc=VT3TJEIUPtsQ7kNvwEGGuT6&efg=eyJ2ZW5jb2RlX3RhZyI6Inhwdl9wcm9ncmVzc2l2ZS5GQUNFQk9PSy4uQzMuNzIwLmRhc2hfaDI2NC1iYXNpYy1nZW4yXzcyMHAiLCJ4cHZfYXNzZXRfaWQiOjk0MzM2MjI4MTI5ODM2OSwidmlfdXNlY2FzZV9pZCI6MTA3OTksImR1cmF0aW9uX3MiOjYyLCJ1cmxnZW5fc291cmNlIjoid3d3In0%3D&ccb=17-1&vs=586effa954063486&_nc_vs=HBksFQIYOnBhc3N0aHJvdWdoX2V2ZXJzdG9yZS9HSS11MXh6LVZTTHlONThFQUxCLXlPdldfOFFhYm1kakFBQUYVAALIAQAVAhg6cGFzc3Rocm91Z2hfZXZlcnN0b3JlL0dJSzV6aHpadWp2XzlKVUZBS2haMERjOFJ5RWlickZxQUFBRhUCAsgBACgAGAAbAogHdXNlX29pbAExEnByb2dyZXNzaXZlX3JlY2lwZQExFQAAJoLn3tr0_qwDFQIoAkMzLBdAT31P3ztkWhgZZGFzaF9oMjY0LWJhc2ljLWdlbjJfNzIwcBEAdQIA&_nc_zt=28&oh=00_AfEc8eukLlhkTYCMQlN0uVjYsH_mL9gQyx0YuGy_l_lA1w&oe=680D8F93\",\n        \"filename\": \"\"\n      }\n    ],\n    \"brand\": \"Reggie\",\n    \"post_link\": \"https://www.facebook.com/1197726922357103/videos/1166056551170837\",\n    \"Created At\": \"2025-03-11\"\n  }\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1320,
        780
      ],
      "id": "42e89eb4-1056-45a7-8cd2-70fe2b6f6880",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"id\": \"rec2VbWAFijuoccOe\",\n  \"createdTime\": \"2025-04-22T14:05:12.000Z\",\n  \"fields\": {\n    \"comment_id\": \"1240785711384557_698214932890218\",\n    \"message\": \"We just bought one one of these mats. Our dog seems to like it so far. That being said, we have a 100+ lb dog. This mat is TINY next to him. Will you be making bigger mat sizes for dogs that aren‚Äôt minuscular? This little one is a bit ridiculous.\",\n    \"created_time\": \"2025-04-19T18:53:41.000Z\",\n    \"ad_id\": [\n      \"recIjzfFro7TMgWVo\"\n    ]\n  }\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1260,
        1140
      ],
      "id": "01863815-4216-4698-8071-449097926d24",
      "name": "Edit Fields2"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.1,
      "position": [
        -1000,
        940
      ],
      "id": "cad82a99-c03f-447f-a4d6-84e2c6b0795f",
      "name": "Merge3"
    },
    {
      "parameters": {
        "operation": "upsert",
        "base": {
          "__rl": true,
          "value": "appUpWhaWy6VmUXM4",
          "mode": "list",
          "cachedResultName": "Facebook Ads Research",
          "cachedResultUrl": "https://airtable.com/appUpWhaWy6VmUXM4"
        },
        "table": {
          "__rl": true,
          "value": "tblZ9o7RtLi7OHguY",
          "mode": "list",
          "cachedResultName": "Ad per Ad Account",
          "cachedResultUrl": "https://airtable.com/appUpWhaWy6VmUXM4/tblZ9o7RtLi7OHguY"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "ad_id": "=[{{ $json.ad_id }}]",
            "Angle": "={{ $json.angle }}",
            "Angle Type": "={{ $json.angle_type }}",
            "Explanation": "={{ $json.explanation }}"
          },
          "matchingColumns": [
            "ad_id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "ad_id",
              "displayName": "ad_id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "ad_name",
              "displayName": "ad_name",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "account_id",
              "displayName": "account_id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "creative_id",
              "displayName": "creative_id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "ad_text",
              "displayName": "ad_text",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "ad_title",
              "displayName": "ad_title",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "image",
              "displayName": "image",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "video",
              "displayName": "video",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "ad per account",
              "displayName": "ad per account",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "140527019358724 - 1",
                  "value": "140527019358724 - 1"
                },
                {
                  "name": "101304151579549 - 1",
                  "value": "101304151579549 - 1"
                },
                {
                  "name": "167823547386064 - 1",
                  "value": "167823547386064 - 1"
                }
              ],
              "readOnly": false,
              "removed": true
            },
            {
              "id": "brand",
              "displayName": "brand",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "CORKCICLE",
                  "value": "CORKCICLE"
                },
                {
                  "name": "Reggie",
                  "value": "Reggie"
                },
                {
                  "name": "BlueChew",
                  "value": "BlueChew"
                }
              ],
              "readOnly": false,
              "removed": true
            },
            {
              "id": "post_link",
              "displayName": "post_link",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Record ID",
              "displayName": "Record ID",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Angle",
              "displayName": "Angle",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Angle Type",
              "displayName": "Angle Type",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "",
                  "value": ""
                },
                {
                  "name": "Feature-Based Angle",
                  "value": "Feature-Based Angle"
                },
                {
                  "name": "Emotional Appeal Angle",
                  "value": "Emotional Appeal Angle"
                },
                {
                  "name": "Benefit-Based Angle",
                  "value": "Benefit-Based Angle"
                },
                {
                  "name": "Urgency/Promotional Angle",
                  "value": "Urgency/Promotional Angle"
                },
                {
                  "name": "Problem-Based Angle",
                  "value": "Problem-Based Angle"
                },
                {
                  "name": "Use-Case/Activity-Based Angle",
                  "value": "Use-Case/Activity-Based Angle"
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Explanation",
              "displayName": "Explanation",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Created At",
              "displayName": "Created At",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "dateTime",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "comment",
              "displayName": "comment",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "typecast": true
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        3520,
        340
      ],
      "id": "65d35eff-cff5-410e-9458-782102631384",
      "name": "Airtable"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.1,
      "position": [
        3540,
        1040
      ],
      "id": "b7c2970b-c0e1-4bd2-b74b-76cde6b4c548",
      "name": "Merge4"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.1,
      "position": [
        3560,
        1220
      ],
      "id": "6edbd7ba-6591-47e9-b69e-c5ed4117012a",
      "name": "Merge5"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.1,
      "position": [
        3880,
        1120
      ],
      "id": "aedbea3a-778f-4a42-bdf1-edf0251e7924",
      "name": "Merge6"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://btmls-ad-analyzer.vercel.app/api/reports",
        "sendBody": true,
        "specifyBody": "=json",
        "bodyParameters": {
          "parameters": [
            {}
          ]
        },
        "jsonBody": "={{ \n  {\n    \"title\": \"Sample Brand Report\",\n    \"data\": {\n      \"brand\": $json.fields.brand || \"N/A\",\n      \"ads\": [\n        {\n          \"ad_id\": $json.fields.ad_id,\n          \"ad_name\": $json.fields.ad_name,\n          \"ad_text\": $json.fields.ad_text,\n          \"ad_title\": $json.fields.ad_title,\n          \"image_url\": $json.fields.image[0].url,\n          \"video_url\": $json.fields.video?.[0]?.url || null,\n          \"post_link\": $json.fields.post_link,\n          \"Angle\": $json.fields[\"Angle Type\"],\n          \"comments\": [\n            {\n              \"comment_id\": $json.fields.comment_id,\n              \"message\": $json.fields.message,\n              \"theme\": $json.fields.theme\n            }\n          ]\n        }\n      ]\n    }\n  } \n}}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        4320,
        800
      ],
      "id": "22ce1e81-2773-4d33-8b95-83d651a58b7f",
      "name": "HTTP Request4"
    },
    {
      "parameters": {
        "batchSize": 100,
        "options": {}
      },
      "id": "b615f18b-dfa2-4ef1-adc5-00dd092b2b88",
      "name": "Split In Batches2",
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 1,
      "position": [
        40,
        1020
      ]
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "3e18274e-929b-4ddf-ad3f-cfb503c6bde1",
              "leftValue": "={{ $json.fields.video[0].url }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        540,
        460
      ],
      "id": "7df64a6a-788b-4755-8489-b5ffe91ee5f5",
      "name": "Filter1"
    }
  ],
  "connections": {
    "Merge2": {
      "main": [
        [
          {
            "node": "Split In Batches1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge4",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Airtable2": {
      "main": [
        [
          {
            "node": "Merge5",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Airtable",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Airtable4": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Split In Batches1": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Theme Analyzer": {
      "main": [
        [
          {
            "node": "Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request1": {
      "main": [
        [
          {
            "node": "OpenAI1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI1": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI2": {
      "main": [
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "OpenAI2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ],
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [],
        [
          {
            "node": "Filter1",
            "type": "main",
            "index": 0
          },
          {
            "node": "HTTP Request1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [],
        [
          {
            "node": "Theme Analyzer",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‚ÄòTest workflow‚Äô": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          },
          {
            "node": "Edit Fields2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Limit1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "If4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split In Batches": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter": {
      "main": [
        [
          {
            "node": "Airtable2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If4": {
      "main": [
        [],
        []
      ]
    },
    "Wait1": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request3": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Merge3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields2": {
      "main": [
        [
          {
            "node": "Merge3",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Airtable": {
      "main": [
        [
          {
            "node": "Merge4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge4": {
      "main": [
        [
          {
            "node": "Merge6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge5": {
      "main": [
        [
          {
            "node": "Merge6",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Merge6": {
      "main": [
        [
          {
            "node": "HTTP Request4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split In Batches2": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter1": {
      "main": [
        [
          {
            "node": "HTTP Request3",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": null,
  "pinData": {},
  "versionId": "179de3e5-4b86-452b-8099-511c2c81ed81",
  "triggerCount": 0,
  "tags": [],
  "shared": [
    {
      "createdAt": "2025-04-25T08:45:55.757Z",
      "updatedAt": "2025-04-25T08:45:55.757Z",
      "role": "workflow:owner",
      "workflowId": "daJV1jQoRzezaZak",
      "projectId": "IQ4w3zW02fJzIdTt",
      "project": {
        "createdAt": "2025-01-25T02:11:56.995Z",
        "updatedAt": "2025-01-25T21:11:21.957Z",
        "id": "IQ4w3zW02fJzIdTt",
        "name": "Yonatan Tesfaye <yonatantesfaye30@gmail.com>",
        "type": "personal",
        "icon": null,
        "description": null
      }
    }
  ]
}