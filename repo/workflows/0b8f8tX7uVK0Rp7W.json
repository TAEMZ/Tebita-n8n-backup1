{
  "createdAt": "2025-09-02T12:24:10.754Z",
  "updatedAt": "2025-10-14T11:23:41.481Z",
  "id": "0b8f8tX7uVK0Rp7W",
  "name": "Linkedin Comment Posting",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -992,
        -224
      ],
      "id": "ca7a533d-d4b9-48d5-9e68-132f6c89fc27",
      "name": "When clicking ‘Execute workflow’"
    },
    {
      "parameters": {
        "agentId": "5283563415415111",
        "jsonParameters": true,
        "additionalFields": {
          "argumentsJson": "{\n\t\"sessionCookie\": \"AQEDATB43YUDqoCTAAABmOEhE2oAAAGZKTdLOk0AsLXvttSqfcfYam1cmWdSqAWWq2ifmdG1HHwMb-WhLjRpQhuGKRNBkYbKx2M_a_Q39aBQjqOb6MOjyZwUpMxUAlas-wl6yz27C_mwMMyTzQcXMBIn\",\n\t\"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36\",\n\t\"spreadsheetUrl\": \"https://docs.google.com/spreadsheets/d/1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q/edit?usp=sharing\",\n\t\"numberOfLinesPerLaunch\": 3\n}"
        }
      },
      "type": "n8n-nodes-base.phantombuster",
      "typeVersion": 1,
      "position": [
        -1168,
        224
      ],
      "id": "ebc6a5b8-9939-4b5a-9332-efe86a2a1125",
      "name": "Add an agent to the launch queue",
      "credentials": {
        "phantombusterApi": {
          "id": "bG3QMNTiYl85jv9N",
          "name": "Linkedin"
        }
      }
    },
    {
      "parameters": {
        "operation": "getOutput",
        "agentId": "1975579709137494",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.phantombuster",
      "typeVersion": 1,
      "position": [
        -336,
        224
      ],
      "id": "6627d081-780d-4bb6-846d-822d9ccd765e",
      "name": "Get the output of an agent",
      "alwaysOutputData": true,
      "credentials": {
        "phantombusterApi": {
          "id": "Ci20vLfNaIncYqAx",
          "name": "Phantombuster yona"
        }
      }
    },
    {
      "parameters": {
        "amount": 2
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        -560,
        224
      ],
      "id": "ea68e26b-260c-424f-95c7-457197b43d64",
      "name": "Wait",
      "webhookId": "b5a48cd6-fd6e-41e5-8273-d82452410d3b"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "9916b52b-7a31-4ba7-a1e8-96d772b1dcea",
              "leftValue": "={{ $json.comment }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -128,
        224
      ],
      "id": "d035a17b-b443-4e03-bc96-83cc22282bc8",
      "name": "If"
    },
    {
      "parameters": {
        "operation": "update",
        "base": {
          "__rl": true,
          "value": "appcyfrUYMKl7NjPw",
          "mode": "list",
          "cachedResultName": "Post Tracker",
          "cachedResultUrl": "https://airtable.com/appcyfrUYMKl7NjPw"
        },
        "table": {
          "__rl": true,
          "value": "tblWRPweaw7hJBqVK",
          "mode": "list",
          "cachedResultName": "Posts",
          "cachedResultUrl": "https://airtable.com/appcyfrUYMKl7NjPw/tblWRPweaw7hJBqVK"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Post URL": "={{ $json.query }}",
            "is Comment Posted": "yes"
          },
          "matchingColumns": [
            "Post URL"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Author",
              "displayName": "Author",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Post URL",
              "displayName": "Post URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Stats",
              "displayName": "Stats",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Text",
              "displayName": "Text",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Hashtags",
              "displayName": "Hashtags",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Generated Comment",
              "displayName": "Generated Comment",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Is Connect Sent",
              "displayName": "Is Connect Sent",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "is Comment Generated",
              "displayName": "is Comment Generated",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "is Comment Posted",
              "displayName": "is Comment Posted",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Posted At",
              "displayName": "Posted At",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "dateTime",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Post id",
              "displayName": "Post id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        -976,
        608
      ],
      "id": "8229bb36-41ac-4651-8aac-083ce34ac770",
      "name": "Update record",
      "credentials": {
        "airtableTokenApi": {
          "id": "HugvDjMnYVe9WgLs",
          "name": "Content-idea"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "/**\n * This script iterates through each item, checks the 'query' field,\n * and removes a single trailing double quote if one is found.\n * All other fields are passed through unchanged.\n */\n\nconst outputItems = [];\n\n// Loop through each item passed to the node\nfor (const item of $items()) {\n  \n  // Create a copy of the item's data to avoid changing the original input\n  const newItem = { ...item.json };\n\n  // Check if the 'query' field exists and is a string\n  if (newItem.query && typeof newItem.query === 'string') {\n    \n    // Use a regular expression to find and remove a double quote ONLY if it's at the very end of the string\n    newItem.query = newItem.query.replace(/\"$/, '');\n  }\n\n  // Add the cleaned (or unmodified) item to our results\n  outputItems.push({ json: newItem });\n}\n\n// Return the list of processed items\nreturn outputItems;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1168,
        608
      ],
      "id": "c4e7fb56-c21f-47c6-a483-81efad7695fb",
      "name": "Code"
    },
    {
      "parameters": {
        "agentId": "4422161448350412",
        "jsonParameters": true,
        "additionalFields": {
          "argumentsJson": "{\n\t\"sessionCookie\": \"AQEDAV5STsUCQDvCAAABmQpp_zUAAAGZLnaDNU4ARbC-m2wkBB-fmqZm3n2ckhhIlcGM1AHUvL3CvPp8MBMItXwpYR0Z-Ywo58VfOzycn8nyms5URvcwukUhQwHQdTs2iexXdPTiLTL3Bqtvd6Fltmgy\",\n\t\"userAgent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:142.0) Gecko/20100101 Firefox/142.0\",\n\t\"spreadsheetUrl\": \"https://docs.google.com/spreadsheets/d/1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q/edit?usp=sharing\",\n\t\"numberOfLinesPerLaunch\": 3\n}"
        }
      },
      "type": "n8n-nodes-base.phantombuster",
      "typeVersion": 1,
      "position": [
        -1184,
        800
      ],
      "id": "75e0318d-d9c3-4413-888c-c2e58414ea61",
      "name": "Add an agent to the launch queue1",
      "credentials": {
        "phantombusterApi": {
          "id": "bG3QMNTiYl85jv9N",
          "name": "Linkedin"
        }
      }
    },
    {
      "parameters": {
        "operation": "getOutput",
        "agentId": "5283563415415111",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.phantombuster",
      "typeVersion": 1,
      "position": [
        -448,
        800
      ],
      "id": "b404a881-26cd-46ba-8346-744310c49476",
      "name": "Get the output of an agent1",
      "credentials": {
        "phantombusterApi": {
          "id": "bG3QMNTiYl85jv9N",
          "name": "Linkedin"
        }
      }
    },
    {
      "parameters": {
        "amount": 1,
        "unit": "minutes"
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        -640,
        800
      ],
      "id": "1be50bf8-eedf-4b45-b835-0cb9533adbe7",
      "name": "Wait1",
      "webhookId": "b5a48cd6-fd6e-41e5-8273-d82452410d3b"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "9916b52b-7a31-4ba7-a1e8-96d772b1dcea",
              "leftValue": "={{ $json.comment }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -240,
        800
      ],
      "id": "ea520fd0-0f57-4560-bf00-b74a4f86e760",
      "name": "If1"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 8
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -1168,
        0
      ],
      "id": "9ff6a64c-10b9-4392-9ad2-53fbb15efe67",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "jsCode": "\nreturn $input.all()"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -768,
        224
      ],
      "id": "0ad82396-a1da-4186-acce-ef6cf6c05944",
      "name": "get current tries"
    },
    {
      "parameters": {
        "jsCode": "// Get the incoming value (for example \"count\")\nlet input = $('get current tries').first().json.tries\n// Add 1 to it\nlet output = input + 1;\n\n// Return it back as JSON\nreturn [\n  {\n    json: {\n      tries: output\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -128,
        384
      ],
      "id": "99a166c4-eaa7-4b89-85c7-cdaba6bca24e",
      "name": "add tries"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "8a1e4291-dd6d-4ebf-a7a0-ec04f153491e",
              "leftValue": "={{ $json.tries }}",
              "rightValue": 3,
              "operator": {
                "type": "number",
                "operation": "gt"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -768,
        384
      ],
      "id": "4ba07909-0216-4ca5-9dc4-febbb3823d11",
      "name": "has tries"
    },
    {
      "parameters": {
        "operation": "update",
        "base": {
          "__rl": true,
          "value": "appcyfrUYMKl7NjPw",
          "mode": "list",
          "cachedResultName": "Post Tracker",
          "cachedResultUrl": "https://airtable.com/appcyfrUYMKl7NjPw"
        },
        "table": {
          "__rl": true,
          "value": "tblWRPweaw7hJBqVK",
          "mode": "list",
          "cachedResultName": "Posts",
          "cachedResultUrl": "https://airtable.com/appcyfrUYMKl7NjPw/tblWRPweaw7hJBqVK"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "is Comment Posted": "Cannot Comment"
          },
          "matchingColumns": [
            "Post URL",
            "Generated Comment"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Author",
              "displayName": "Author",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Post URL",
              "displayName": "Post URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Stats",
              "displayName": "Stats",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Text",
              "displayName": "Text",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Hashtags",
              "displayName": "Hashtags",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Generated Comment",
              "displayName": "Generated Comment",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Is Connect Sent",
              "displayName": "Is Connect Sent",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "is Comment Generated",
              "displayName": "is Comment Generated",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "is Comment Posted",
              "displayName": "is Comment Posted",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Posted At",
              "displayName": "Posted At",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "dateTime",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Post id",
              "displayName": "Post id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        -464,
        400
      ],
      "id": "818be24f-b331-42dc-85ba-eeba25ece19c",
      "name": "Update record1",
      "credentials": {
        "airtableTokenApi": {
          "id": "HugvDjMnYVe9WgLs",
          "name": "Content-idea"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "51934b90-154b-4195-a5e7-1b4eee7c133c",
              "name": "tries",
              "value": 1,
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -976,
        224
      ],
      "id": "1ba69a62-d094-41cd-af80-e3010cfcae95",
      "name": "Set tries"
    },
    {
      "parameters": {
        "jsCode": "\nreturn $input.all()"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -832,
        800
      ],
      "id": "358240bc-1a78-431d-8a9d-08a6a7002e7b",
      "name": "get current tries1"
    },
    {
      "parameters": {
        "jsCode": "// Get the incoming value (for example \"count\")\nlet input = $('get current tries1').first().json.tries\n// Add 1 to it\nlet output = input + 1;\n\n// Return it back as JSON\nreturn [\n  {\n    json: {\n      tries: output\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -240,
        944
      ],
      "id": "354c0050-7c0f-4042-a9ee-f06826e0b801",
      "name": "add tries1"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "8a1e4291-dd6d-4ebf-a7a0-ec04f153491e",
              "leftValue": "={{ $json.tries }}",
              "rightValue": 3,
              "operator": {
                "type": "number",
                "operation": "gt"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -832,
        928
      ],
      "id": "8b2e80e2-8baf-4f2d-b86e-937085564ef6",
      "name": "has tries1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "51934b90-154b-4195-a5e7-1b4eee7c133c",
              "name": "tries",
              "value": 1,
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -992,
        800
      ],
      "id": "ae7b1a2d-146b-416c-b04e-2ff3edc2e1b4",
      "name": "Set tries1"
    },
    {
      "parameters": {
        "jsCode": "// Input array\nconst records = $input.all();\n\n// Extract and clean fields\nconst output = records.map(item => {\n  const author = JSON.parse(item.json.Author || \"{}\");\n  const postUrl = (item.json[\"Post URL\"] || \"\").replace(/^\"|\"$/g, \"\"); // remove surrounding quotes\n  \n  return {\n    json: {\n      profile_url: author.profile_url || null,\n      post_url: postUrl,\n      generated_comment: item.json[\"Generated Comment\"] || null\n    }\n  };\n});\n\n// Return as separate n8n items\nreturn output;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -784,
        0
      ],
      "id": "a279d324-c7fa-4825-808f-5a77bcc844c9",
      "name": "get post url and comment"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q",
          "mode": "list",
          "cachedResultName": "Comment",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1327244655,
          "mode": "list",
          "cachedResultName": "linkedin_posts_comments",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q/edit#gid=1327244655"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Comment": "={{ $json.generated_comment }}",
            "Post url": "={{ $json.post_url }}"
          },
          "matchingColumns": [
            "Post url"
          ],
          "schema": [
            {
              "id": "Post url",
              "displayName": "Post url",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Comment",
              "displayName": "Comment",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -592,
        0
      ],
      "id": "03d223d1-50ce-44d7-9874-991106acace2",
      "name": "store posturl and comment",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "GJAZ1dRFw6ZV1W9V",
          "name": "kefe"
        }
      }
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q",
          "mode": "list",
          "cachedResultName": "Comment",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 732546734,
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q/edit#gid=732546734"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Profile Url": "={{ $('get post url and comment').item.json.profile_url }}"
          },
          "matchingColumns": [
            "Profile Url"
          ],
          "schema": [
            {
              "id": "Profile Url",
              "displayName": "Profile Url",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -400,
        0
      ],
      "id": "44bfaffb-64bf-4d88-a4ee-2b67c9fed4b6",
      "name": "store profile url",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "GJAZ1dRFw6ZV1W9V",
          "name": "kefe"
        }
      }
    },
    {
      "parameters": {
        "operation": "search",
        "base": {
          "__rl": true,
          "value": "appcyfrUYMKl7NjPw",
          "mode": "list",
          "cachedResultName": "Post Tracker",
          "cachedResultUrl": "https://airtable.com/appcyfrUYMKl7NjPw"
        },
        "table": {
          "__rl": true,
          "value": "tblWRPweaw7hJBqVK",
          "mode": "list",
          "cachedResultName": "Posts",
          "cachedResultUrl": "https://airtable.com/appcyfrUYMKl7NjPw/tblWRPweaw7hJBqVK"
        },
        "filterByFormula": "AND(   {is Comment Posted} = 'no',   {is Connect Sent} = 'no',   {is Comment Generated} = 'yes' )",
        "returnAll": false,
        "limit": 3,
        "options": {
          "fields": [
            "Post URL",
            "Author",
            "Generated Comment"
          ]
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        -960,
        0
      ],
      "id": "23eb4ed8-5c63-4ef2-b09c-64519145ef08",
      "name": "Search records",
      "credentials": {
        "airtableTokenApi": {
          "id": "HugvDjMnYVe9WgLs",
          "name": "Content-idea"
        }
      }
    },
    {
      "parameters": {
        "operation": "clear",
        "documentId": {
          "__rl": true,
          "value": "1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q",
          "mode": "list",
          "cachedResultName": "Comment",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1327244655,
          "mode": "list",
          "cachedResultName": "linkedin_posts_comments",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q/edit#gid=1327244655"
        },
        "clear": "specificRows",
        "startIndex": 2
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -784,
        608
      ],
      "id": "5d20196f-cafe-4e7e-9e96-98b246e920a4",
      "name": "Clear post url",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "GJAZ1dRFw6ZV1W9V",
          "name": "kefe"
        }
      }
    },
    {
      "parameters": {
        "operation": "clear",
        "documentId": {
          "__rl": true,
          "value": "1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q",
          "mode": "list",
          "cachedResultName": "Comment",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 732546734,
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DGoCQ4-4pghnFa2SSlnspAEXY-L8Y-OjWlUfadCCR1Q/edit#gid=732546734"
        },
        "clear": "specificRows",
        "startIndex": 2
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -1168,
        1152
      ],
      "id": "cf5abf46-e921-42f0-abf2-3caf021269b7",
      "name": "Clear Profile",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "GJAZ1dRFw6ZV1W9V",
          "name": "kefe"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "base": {
          "__rl": true,
          "value": "appcyfrUYMKl7NjPw",
          "mode": "list",
          "cachedResultName": "Post Tracker",
          "cachedResultUrl": "https://airtable.com/appcyfrUYMKl7NjPw"
        },
        "table": {
          "__rl": true,
          "value": "tblWRPweaw7hJBqVK",
          "mode": "list",
          "cachedResultName": "Posts",
          "cachedResultUrl": "https://airtable.com/appcyfrUYMKl7NjPw/tblWRPweaw7hJBqVK"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Post URL": "={{ $json.query }}",
            "is Comment Posted": "yes"
          },
          "matchingColumns": [
            "Post URL"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Author",
              "displayName": "Author",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Post URL",
              "displayName": "Post URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Stats",
              "displayName": "Stats",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Text",
              "displayName": "Text",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Hashtags",
              "displayName": "Hashtags",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Generated Comment",
              "displayName": "Generated Comment",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Is Checked",
              "displayName": "Is Checked",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "is Comment Generated",
              "displayName": "is Comment Generated",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "is Comment Posted",
              "displayName": "is Comment Posted",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Posted At",
              "displayName": "Posted At",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "dateTime",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Post id",
              "displayName": "Post id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        -992,
        1152
      ],
      "id": "ffd6484c-abcd-496f-a13a-ac0a308ca407",
      "name": "Update record3",
      "credentials": {
        "airtableTokenApi": {
          "id": "HugvDjMnYVe9WgLs",
          "name": "Content-idea"
        }
      }
    }
  ],
  "connections": {
    "When clicking ‘Execute workflow’": {
      "main": [
        []
      ]
    },
    "Add an agent to the launch queue": {
      "main": [
        [
          {
            "node": "Set tries",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "Get the output of an agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get the output of an agent": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "Code",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "add tries",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code": {
      "main": [
        [
          {
            "node": "Update record",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update record": {
      "main": [
        [
          {
            "node": "Clear post url",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add an agent to the launch queue1": {
      "main": [
        [
          {
            "node": "Set tries1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get the output of an agent1": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait1": {
      "main": [
        [
          {
            "node": "Get the output of an agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "Clear Profile",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "add tries1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Search records",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "get current tries": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "add tries": {
      "main": [
        [
          {
            "node": "has tries",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "has tries": {
      "main": [
        [
          {
            "node": "Update record1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "get current tries",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set tries": {
      "main": [
        [
          {
            "node": "get current tries",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "get current tries1": {
      "main": [
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "add tries1": {
      "main": [
        [
          {
            "node": "has tries1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "has tries1": {
      "main": [
        [],
        [
          {
            "node": "get current tries1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set tries1": {
      "main": [
        [
          {
            "node": "get current tries1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "get post url and comment": {
      "main": [
        [
          {
            "node": "store posturl and comment",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "store posturl and comment": {
      "main": [
        [
          {
            "node": "store profile url",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Search records": {
      "main": [
        [
          {
            "node": "get post url and comment",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "store profile url": {
      "main": [
        [
          {
            "node": "Add an agent to the launch queue",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Clear post url": {
      "main": [
        [
          {
            "node": "Add an agent to the launch queue1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Clear Profile": {
      "main": [
        [
          {
            "node": "Update record3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "callerPolicy": "workflowsFromSameOwner",
    "errorWorkflow": "z5dK4hrIczUamG3b"
  },
  "staticData": {
    "node:Schedule Trigger": {
      "recurrenceRules": []
    }
  },
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "8fae0a6d-21c5-4dd2-9a7a-e0a62be787dc",
  "triggerCount": 1,
  "tags": [],
  "shared": [
    {
      "createdAt": "2025-09-02T12:24:10.754Z",
      "updatedAt": "2025-09-02T12:24:10.754Z",
      "role": "workflow:owner",
      "workflowId": "0b8f8tX7uVK0Rp7W",
      "projectId": "IQ4w3zW02fJzIdTt",
      "project": {
        "createdAt": "2025-01-25T02:11:56.995Z",
        "updatedAt": "2025-01-25T21:11:21.957Z",
        "id": "IQ4w3zW02fJzIdTt",
        "name": "Yonatan Tesfaye <yonatantesfaye30@gmail.com>",
        "type": "personal",
        "icon": null,
        "description": null
      }
    }
  ]
}