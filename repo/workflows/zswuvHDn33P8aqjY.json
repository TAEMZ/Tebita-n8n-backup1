{
  "createdAt": "2025-08-21T08:52:45.971Z",
  "updatedAt": "2025-09-26T14:02:56.687Z",
  "id": "zswuvHDn33P8aqjY",
  "name": "competitor scraping",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "url": "={{ $json['Media URL'] }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        368,
        -1120
      ],
      "id": "cfcc9577-3c7b-46bf-810a-10540f837d58",
      "name": "HTTP Request1",
      "alwaysOutputData": false,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json[\"Media Type\"] }}",
                    "rightValue": "Video",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "33507ab0-cb68-4ae3-93d5-ccd26723af01"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "f4b3ff82-1d33-4bac-ae4e-eaa84ec8ae5e",
                    "leftValue": "={{ $json[\"Media Type\"] }}",
                    "rightValue": "=Image",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "738e8e20-cb3b-4689-8d52-4c400d905989",
                    "leftValue": "={{ $json[\"Media Type\"] }}",
                    "rightValue": "Text",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        64,
        -544
      ],
      "id": "5450aadd-09bb-41d7-9d03-0475e9af589f",
      "name": "Switch"
    },
    {
      "parameters": {
        "jsCode": "// Get all GPT outputs into an array\nconst gptOutputs = $input.all().map(item => item.json.content);\n\n// Loop through all Switch posts and use the index to pair them\nreturn $('Switch').all().map((item, index) => {\n  const switchPost = item.json;\n\n  return {\n    json: {\n      ...switchPost,                      // keep original Switch post data\n      gpt_description: gptOutputs[index] // attach the SINGLE corresponding GPT output\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        992,
        -544
      ],
      "id": "60f730d3-b5bf-447b-a316-d10c8d7c7327",
      "name": "Code3"
    },
    {
      "parameters": {
        "resource": "image",
        "operation": "analyze",
        "modelId": {
          "__rl": true,
          "value": "chatgpt-4o-latest",
          "mode": "list",
          "cachedResultName": "CHATGPT-4O-LATEST"
        },
        "text": "describe the image",
        "imageUrls": "={{ $json['Media URL'] }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        544,
        -592
      ],
      "id": "7e07303f-3172-46fc-96fa-c0916359b71e",
      "name": "Analyze image",
      "credentials": {
        "openAiApi": {
          "id": "LoNYm3Tv1zMBaEBj",
          "name": "KMT"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "numberInputs": 3
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1232,
        -560
      ],
      "id": "7e609cef-c481-4952-ab94-a9f0b1951a5d",
      "name": "Merge"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://45.32.189.71:8073/extract-audio/",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "multipart/form-data"
            }
          ]
        },
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "parameterType": "formBinaryData",
              "name": "video_file",
              "inputDataFieldName": "=data"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        832,
        -1120
      ],
      "id": "b218b3f5-46f4-4067-ad5c-b3a27a616b3c",
      "name": "HTTP Request4",
      "retryOnFail": true,
      "maxTries": 4,
      "waitBetweenTries": 1000,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "chatgpt-4o-latest",
          "mode": "list",
          "cachedResultName": "CHATGPT-4O-LATEST"
        },
        "messages": {
          "values": [
            {
              "content": "=Role\n\nYou are an expert marketing and brand strategist.\n\nTask\n\nYour task is to analyze the content of a single social media post and generate a detailed strategic breakdown. You will be given a JSON object containing the post's ID, company name, and a text description of its content (gpt_description). You must analyze the gpt_description to generate the values for all the required strategic analysis fields.\n\nInput Data Structure Example\n\nYou will receive one JSON object like this for each post:\nJSON\n\n{\n  \"post_id\": \"allbirds_y2025m08d26_h09m00s00\",\n  \"Name\": \"Allbirds\",\n  \"gpt_description\": \"The post is a 15-second video showing the new Wool Runners from a low angle, walking through autumn leaves in a park. The camera is smooth and follows the shoes. The caption reads 'Step into fall with the ultimate comfort. ðŸ‚ #Allbirds #Nature'. The music is calm and acoustic.\"\n}\n\nFinal Output Instructions\n\n    You must return one and only one valid JSON object for the single post you are analyzing.\n\n    Your response must contain ONLY the JSON object. Do not add any commentary, explanations, or markdown formatting like ```json.\n\n    The final JSON object must contain the original post_id and Name, plus all 13 of the analysis fields you generate.\n\nPost Analysis Definitions\n\n(Your task is to analyze the provided gpt_description to fill out the following 13 fields. Do not just repeat the description; you must synthesize the strategic marketing elements from it.)\n\n    Content Format: Based on the description, identify the media format (e.g., \"Short-form video,\" \"Image carousel,\" \"Static image\").\n\n    Angle: What is the dominant angle or strategic perspective of this post? (e.g., \"Focuses on seasonal relevance and comfort,\" \"Highlights product technical features\").\n\n    TOV: Define this post's Tone of Voice (e.g., \"Calm, cozy, and nature-focused\").\n\n    Emotional Trigger: What key emotion does this post aim to evoke? (e.g., \"Comfort,\" \"Nostalgia,\" \"Excitement\").\n\n    Visual Language: Describe the visual aesthetic of the post (e.g., \"Earthy tones, soft focus, cinematic\").\n\n    Story Device: What narrative technique is used? (e.g., \"Product-as-hero,\" \"A day in the life\").\n\n    Call To Engagement: What action does the post's caption ask the audience to take? If none, describe the implied action (e.g., \"Implicit call to purchase,\" \"Encourages brand association with the season\").\n\n    Credibility Builders: What elements in this post build trust? (e.g., \"High-quality production,\" \"Authentic setting\").\n\n    Pattern Disruption: How does this post try to stand out in a feed? (e.g., \"Uses ASMR of leaves crunching,\" \"Minimalist visual with no people\").\n\n    Cultural Relevance: Does this post tap into a specific trend or moment? (e.g., \"Taps into the 'cozy season' autumn trend\").\n\n    Camera Performance: For videos, describe the camera work and editing (e.g., \"Smooth, following shot, quick cuts\"). If not a video, use null.\n\n    Takeaways: Synthesize the 3 overarching messages of this post (e.g., [\"Our shoes are comfortable\", \"Our brand is connected to nature\", \"Our product is perfect for this season\"]).\n\n    Script: Summarize the key themes of the caption or any spoken words (e.g., \"Connects the product to the feeling of autumn and comfort\").\nhere is the input: {{ JSON.stringify($input.item.json) }}"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        992,
        80
      ],
      "id": "aedc5a07-1bd5-4bb2-98d4-89836ff3ac73",
      "name": "Message a model1",
      "credentials": {
        "openAiApi": {
          "id": "LoNYm3Tv1zMBaEBj",
          "name": "KMT"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// This code passes each post through as a separate item,\n// allowing the next node in your workflow to loop through them.\nreturn items;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        32,
        -32
      ],
      "id": "1f0f8702-c013-4f84-9b10-99cfa88d1c88",
      "name": "Code2"
    },
    {
      "parameters": {
        "jsCode": "return items.map(item => ({\n  binary: { data: item.binary.data }\n}));\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        608,
        -1120
      ],
      "id": "73376bdf-3e58-4afc-b7ec-6bccbe432d23",
      "name": "Code4",
      "retryOnFail": false,
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "jsCode": "\nreturn $input.all();"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        992,
        -304
      ],
      "id": "39d4dce3-de1b-478e-af0f-04ed4f142512",
      "name": "Code5"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        544,
        -848
      ],
      "id": "9f0b85dd-4a88-44b1-b83b-da60f63c54c6",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "resource": "audio",
        "operation": "transcribe",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        1088,
        -1120
      ],
      "id": "f5fcf6c9-ab29-478c-93ac-4ff2dd2d5377",
      "name": "Transcribe a recording",
      "alwaysOutputData": true,
      "credentials": {
        "openAiApi": {
          "id": "LoNYm3Tv1zMBaEBj",
          "name": "KMT"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "jsCode": "// Get all items coming into this node (from the GPT node)\nconst gptItems = $input.all();\n\n// Get all items from the 'Switch' node by its name\nconst switchItems = $('Switch').all();\n\n// Extract just the 'text' from each GPT item's JSON payload.\n// We are NOT filtering out empty strings to maintain a 1-to-1 match.\nconst gptDescriptions = gptItems\n  .map(item => item.json.text);\n\n// Check if the number of items from both sources match.\nif (switchItems.length !== gptDescriptions.length) {\n  throw new Error(`Item count mismatch: Switch node has ${switchItems.length} items, but GPT node has ${gptDescriptions.length}. Cannot map 1-to-1.`);\n}\n\n// Loop through the Switch items and add the corresponding GPT description\n// from the same position (index) in the gptDescriptions array.\nreturn switchItems.map((item, index) => {\n  return {\n    json: {\n      ...item.json, // Keep original data from the Switch item\n      gpt_description: gptDescriptions[index] // Add the single GPT description (can be empty)\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        976,
        -848
      ],
      "id": "087e0e10-05c2-4f2a-b9b7-5cd689a16000",
      "name": "Code6"
    },
    {
      "parameters": {
        "operation": "upsert",
        "base": {
          "__rl": true,
          "value": "appmWyFwWRB5CmvhO",
          "mode": "list",
          "cachedResultName": "Idea & Content Inspiration App",
          "cachedResultUrl": "https://airtable.com/appmWyFwWRB5CmvhO"
        },
        "table": {
          "__rl": true,
          "value": "tblmtJgGpOS2hQn74",
          "mode": "list",
          "cachedResultName": "Brand Content Strategies",
          "cachedResultUrl": "https://airtable.com/appmWyFwWRB5CmvhO/tblmtJgGpOS2hQn74"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Content Format": "={{ $json[\"Content Format\"] }}",
            "Angle": "={{ $json.Angle }}",
            "Tone of Voice": "={{ $json.TOV }}",
            "Emotional Trigger": "={{ $json[\"Emotional Trigger\"] }}",
            "Visual Language": "={{ $json[\"Visual Language\"] }}",
            "Story Device": "={{ $json[\"Story Device\"] }}",
            "Call To Engagement": "={{ $json[\"Call To Engagement\"] }}",
            "Credibility Builders": "={{ JSON.stiringify($json[\"Credibility Builders\"]) }}",
            "Pattern Disruption": "={{ $json[\"Pattern Disruption\"] }}",
            "Cultural Relevance": "={{ $json[\"Cultural Relevance\"] }}",
            "Camera Performance": "={{ $json[\"Camera Performance\"] }}",
            "Takeaways": "={{ $json.Takeaways[0] }}\n{{ $json.Takeaways[1] }}\n{{ $json.Takeaways[2] }}",
            "Script": "={{ $json.Script }}",
            "Post Id": "={{ $json.post_id }}",
            "Business Name": "={{ $json.Name }}",
            "is checked": "yes"
          },
          "matchingColumns": [
            "Post Id",
            "Business Name"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Post Id",
              "displayName": "Post Id",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Business Name",
              "displayName": "Business Name",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Post Text",
              "displayName": "Post Text",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Content Format",
              "displayName": "Content Format",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Angle",
              "displayName": "Angle",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Tone of Voice",
              "displayName": "Tone of Voice",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Emotional Trigger",
              "displayName": "Emotional Trigger",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Visual Language",
              "displayName": "Visual Language",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Story Device",
              "displayName": "Story Device",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Call To Engagement",
              "displayName": "Call To Engagement",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Credibility Builders",
              "displayName": "Credibility Builders",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Pattern Disruption",
              "displayName": "Pattern Disruption",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Cultural Relevance",
              "displayName": "Cultural Relevance",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Camera Performance",
              "displayName": "Camera Performance",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Takeaways",
              "displayName": "Takeaways",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Script",
              "displayName": "Script",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Media Type",
              "displayName": "Media Type",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Media URL",
              "displayName": "Media URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "is checked",
              "displayName": "is checked",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        1248,
        -128
      ],
      "id": "cc740485-0d53-42d1-91e0-022bddae04af",
      "name": "Create or update a record",
      "credentials": {
        "airtableTokenApi": {
          "id": "HugvDjMnYVe9WgLs",
          "name": "Content-idea"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        736,
        -32
      ],
      "id": "50e2a324-3236-41ef-99a3-a568aee27a96",
      "name": "Loop Over Items1"
    },
    {
      "parameters": {
        "jsCode": "// Get all the post items from the previous node.\nconst allPosts = items.map(item => item.json);\n\n// 1. Group all posts by their 'post_id'.\nconst groups = allPosts.reduce((acc, post) => {\n  const postId = post.post_id;\n  // If a group for this post_id doesn't exist yet, create an empty array for it.\n  if (!acc[postId]) {\n    acc[postId] = [];\n  }\n  // Add the current post to the correct group.\n  acc[postId].push(post);\n  return acc;\n}, {});\n\n// 2. Format each group into a separate item, ready for the ChatGPT node.\nreturn Object.values(groups).map(groupArray => {\n  return {\n    json: {\n      // Include the post_id for easy reference.\n      post_id: groupArray[0].post_id,\n      // Stringify the data for the entire group to be used in the prompt.\n      prompt_data: JSON.stringify(groupArray)\n    }\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        272,
        -32
      ],
      "id": "2c5c8abd-5470-43c9-8f6c-bff772377ea7",
      "name": "Code7"
    },
    {
      "parameters": {
        "jsCode": "// Get all items from the previous node.\nconst items = $input.all();\n\n// Use .map() to transform each item.\nreturn items.map(item => {\n  \n  // 1. Get the JSON string hidden inside the 'content' field.\n  const contentString = item.json.message.content;\n  \n  // 2. Parse that string into a clean, structured JavaScript object.\n  const parsedObject = JSON.parse(contentString);\n  \n  // 3. Return the structured object, ready for the next node (e.g., a database).\n  return {\n    json: parsedObject\n  };\n});"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1008,
        -128
      ],
      "id": "db4bc5e0-fe03-478d-b6db-1c98085852d0",
      "name": "Code9"
    },
    {
      "parameters": {
        "operation": "search",
        "base": {
          "__rl": true,
          "value": "appmWyFwWRB5CmvhO",
          "mode": "list",
          "cachedResultName": "Idea & Content Inspiration App",
          "cachedResultUrl": "https://airtable.com/appmWyFwWRB5CmvhO"
        },
        "table": {
          "__rl": true,
          "value": "tblmtJgGpOS2hQn74",
          "mode": "list",
          "cachedResultName": "Brand Content Strategies",
          "cachedResultUrl": "https://airtable.com/appmWyFwWRB5CmvhO/tblmtJgGpOS2hQn74"
        },
        "filterByFormula": "({is checked} = 'no')",
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        320,
        -1328
      ],
      "id": "660fe187-f4bb-4486-b42e-4ae89e34d851",
      "name": "Search records2",
      "credentials": {
        "airtableTokenApi": {
          "id": "HugvDjMnYVe9WgLs",
          "name": "Content-idea"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// This code checks the format of the incoming data and processes it correctly.\n\n// SCENARIO 1: Check if the input is a single item with nested 'prompt_data'.\nif (items.length === 1 && items[0].json.prompt_data) {\n  \n  // It's the old format, so we need to parse and split it.\n  const promptDataString = items[0].json.prompt_data;\n  const allPosts = JSON.parse(promptDataString);\n\n  return allPosts.map(post => {\n    return {\n      json: post\n    };\n  });\n\n} \n// SCENARIO 2: The data is already a clean list of items.\nelse {\n  \n  // It's the new, clean format, so we just pass it through.\n  return items;\n  \n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        528,
        -32
      ],
      "id": "7699f77b-f6f3-4690-981b-eb541c9b1e7e",
      "name": "Code10"
    },
    {
      "parameters": {
        "inputSource": "passthrough"
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        112,
        -1328
      ],
      "id": "e2d9527e-8e51-40dc-a3d0-85cf68e7337e",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        1456,
        -128
      ],
      "id": "9d97d385-36e0-4ad8-af90-70a959323338",
      "name": "Limit"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "4n3puCuwEDlsTHQ6",
          "mode": "list",
          "cachedResultName": "Simplified Content Idea"
        },
        "options": {
          "waitForSubWorkflow": false
        }
      },
      "type": "n8n-nodes-base.executeWorkflow",
      "typeVersion": 1.2,
      "position": [
        1664,
        -128
      ],
      "id": "62c06583-a137-4625-8c9f-00fc6e6c8c51",
      "name": "Execute Workflow"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        96,
        -1536
      ],
      "id": "1dc7d722-76f9-4916-b43f-16e3e5e3a60f",
      "name": "When clicking â€˜Execute workflowâ€™"
    }
  ],
  "connections": {
    "HTTP Request1": {
      "main": [
        [
          {
            "node": "Code4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Analyze image",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Code5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code3": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Analyze image": {
      "main": [
        [
          {
            "node": "Code3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Code2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code2": {
      "main": [
        [
          {
            "node": "Code7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request4": {
      "main": [
        [
          {
            "node": "Transcribe a recording",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code4": {
      "main": [
        [
          {
            "node": "HTTP Request4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code5": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [
          {
            "node": "Code6",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "HTTP Request1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Transcribe a recording": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code6": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Message a model1": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items1": {
      "main": [
        [
          {
            "node": "Code9",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Message a model1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code7": {
      "main": [
        [
          {
            "node": "Code10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code9": {
      "main": [
        [
          {
            "node": "Create or update a record",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Search records2": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code10": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Search records2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create or update a record": {
      "main": [
        [
          {
            "node": "Limit",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit": {
      "main": [
        [
          {
            "node": "Execute Workflow",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking â€˜Execute workflowâ€™": {
      "main": [
        [
          {
            "node": "Search records2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "callerPolicy": "workflowsFromSameOwner",
    "errorWorkflow": "z5dK4hrIczUamG3b"
  },
  "staticData": {
    "node:Schedule Trigger": {
      "recurrenceRules": []
    }
  },
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {
    "When Executed by Another Workflow": [
      {
        "json": {
          "id": "recOR7kt9KuQulXLS",
          "createdTime": "2025-09-25T22:04:42.000Z",
          "fields": {
            "Post Id": "robin-van-veen_y2025m09d25_h11m33s37",
            "Business Name": "robin-van-veen",
            "is checked": "no",
            "Post Text": "Unpopular opinion:\n\nAI bros miss the point entirely.\n\nAutomation isn't about doing nothing.\n\nIt's about doing what matters.\n\nI see people trying to automate everything just to avoid work.\n\nThat's not strategy.\nThat's laziness.\n\nThe best automation I build does one thing:\n\nFrees up humans for human work.\n\nCreative thinking.\nStrategic decisions.\nBuilding relationships.\n\nIf your goal is to sit back and watch robots do everythingâ€¦\n\nYou're building yourself out of relevance.\n\nSmart automation amplifies your strengths.\nDumb automation replaces your purpose.\n\nBefore you automate, ask this:\n- What am I trying to achieve?\n- What should I focus on instead?\n- How does this make me more valuable?\n\nIf you can't answer those questions, you're automating wrong.\n\nAI should make you superhuman.\nNot unemployed.\n\nBuild tools that matter.\nNot excuses to check out.\n\nAgree or totally off? Comment below ðŸ‘‡",
            "Media Type": "Image",
            "Media URL": "https://media.licdn.com/dms/image/v2/D4E22AQGIbCCycUvIzw/feedshare-shrink_2048_1536/B4EZmApm9mKUA4-/0/1758800016370?e=1761782400&v=beta&t=bRoy_zCj3ImrY9gQNQ7KAoCjwj4VLKN5We1iN-O3fNo",
            "Created at": "2025-09-25T22:04:42.000Z"
          }
        }
      }
    ]
  },
  "versionId": "1592aff8-5c3e-4e78-8306-8cf03bf7bc59",
  "triggerCount": 2,
  "tags": [],
  "shared": [
    {
      "createdAt": "2025-08-21T08:52:45.971Z",
      "updatedAt": "2025-08-21T08:52:45.971Z",
      "role": "workflow:owner",
      "workflowId": "zswuvHDn33P8aqjY",
      "projectId": "IQ4w3zW02fJzIdTt",
      "project": {
        "createdAt": "2025-01-25T02:11:56.995Z",
        "updatedAt": "2025-01-25T21:11:21.957Z",
        "id": "IQ4w3zW02fJzIdTt",
        "name": "Yonatan Tesfaye <yonatantesfaye30@gmail.com>",
        "type": "personal",
        "icon": null,
        "description": null
      }
    }
  ]
}